{
  "id": "af5b5f9b-21ec-4f49-89e2-b0114cb33edf",
  "prevId": "00000000-0000-0000-0000-000000000000",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.admin_settings": {
      "name": "admin_settings",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "namespace": {
          "name": "namespace",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "key": {
          "name": "key",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "value": {
          "name": "value",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_secret": {
          "name": "is_secret",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "is_read_only": {
          "name": "is_read_only",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "admin_settings_namespace_idx": {
          "name": "admin_settings_namespace_idx",
          "columns": [
            {
              "expression": "namespace",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "admin_settings_key_idx": {
          "name": "admin_settings_key_idx",
          "columns": [
            {
              "expression": "key",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "admin_settings_updated_by_users_id_fk": {
          "name": "admin_settings_updated_by_users_id_fk",
          "tableFrom": "admin_settings",
          "tableTo": "users",
          "columnsFrom": ["updated_by"],
          "columnsTo": ["id"],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "admin_settings_namespace_key_unique": {
          "name": "admin_settings_namespace_key_unique",
          "nullsNotDistinct": false,
          "columns": ["namespace", "key"]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.agent_status": {
      "name": "agent_status",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "is_running": {
          "name": "is_running",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "last_heartbeat": {
          "name": "last_heartbeat",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "total_trades": {
          "name": "total_trades",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "total_pnl": {
          "name": "total_pnl",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "win_rate": {
          "name": "win_rate",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "cash_balance": {
          "name": "cash_balance",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false,
          "default": "'100000'"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "kill_switch_active": {
          "name": "kill_switch_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "max_position_size_percent": {
          "name": "max_position_size_percent",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false,
          "default": "'10'"
        },
        "max_total_exposure_percent": {
          "name": "max_total_exposure_percent",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false,
          "default": "'50'"
        },
        "max_positions_count": {
          "name": "max_positions_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 10
        },
        "daily_loss_limit_percent": {
          "name": "daily_loss_limit_percent",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false,
          "default": "'5'"
        },
        "dynamic_order_limit": {
          "name": "dynamic_order_limit",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 10
        },
        "min_order_limit": {
          "name": "min_order_limit",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 10
        },
        "max_order_limit": {
          "name": "max_order_limit",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 50
        },
        "market_condition": {
          "name": "market_condition",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'neutral'"
        },
        "ai_confidence_score": {
          "name": "ai_confidence_score",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false,
          "default": "'0.5'"
        },
        "auto_start_enabled": {
          "name": "auto_start_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "last_market_analysis": {
          "name": "last_market_analysis",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "auto_execute_trades": {
          "name": "auto_execute_trades",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "conservative_mode": {
          "name": "conservative_mode",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.ai_agent_profiles": {
      "name": "ai_agent_profiles",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "provider": {
          "name": "provider",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "model": {
          "name": "model",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "role": {
          "name": "role",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "mode": {
          "name": "mode",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'cheap_first'"
        },
        "temperature": {
          "name": "temperature",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false,
          "default": "'0.7'"
        },
        "max_tokens": {
          "name": "max_tokens",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 2000
        },
        "prompt_template_id": {
          "name": "prompt_template_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "tool_policy": {
          "name": "tool_policy",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "budget_limit_per_day": {
          "name": "budget_limit_per_day",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "budget_limit_per_run": {
          "name": "budget_limit_per_run",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "priority": {
          "name": "priority",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "total_calls": {
          "name": "total_calls",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "total_tokens": {
          "name": "total_tokens",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "total_cost_usd": {
          "name": "total_cost_usd",
          "type": "numeric",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "avg_latency_ms": {
          "name": "avg_latency_ms",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "success_rate": {
          "name": "success_rate",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "ai_agent_profiles_status_idx": {
          "name": "ai_agent_profiles_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "ai_agent_profiles_role_idx": {
          "name": "ai_agent_profiles_role_idx",
          "columns": [
            {
              "expression": "role",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "ai_agent_profiles_mode_idx": {
          "name": "ai_agent_profiles_mode_idx",
          "columns": [
            {
              "expression": "mode",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "ai_agent_profiles_name_unique": {
          "name": "ai_agent_profiles_name_unique",
          "nullsNotDistinct": false,
          "columns": ["name"]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.ai_arena_agent_decisions": {
      "name": "ai_arena_agent_decisions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "arena_run_id": {
          "name": "arena_run_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "agent_profile_id": {
          "name": "agent_profile_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "role": {
          "name": "role",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "action": {
          "name": "action",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "symbols": {
          "name": "symbols",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "confidence": {
          "name": "confidence",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "stance": {
          "name": "stance",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "rationale": {
          "name": "rationale",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "key_signals": {
          "name": "key_signals",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "risks": {
          "name": "risks",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "proposed_order": {
          "name": "proposed_order",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "tokens_used": {
          "name": "tokens_used",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "cost_usd": {
          "name": "cost_usd",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "latency_ms": {
          "name": "latency_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "model_used": {
          "name": "model_used",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "was_escalation": {
          "name": "was_escalation",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "raw_output": {
          "name": "raw_output",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "tool_calls_count": {
          "name": "tool_calls_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "ai_arena_agent_decisions_run_id_idx": {
          "name": "ai_arena_agent_decisions_run_id_idx",
          "columns": [
            {
              "expression": "arena_run_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "ai_arena_agent_decisions_agent_profile_id_idx": {
          "name": "ai_arena_agent_decisions_agent_profile_id_idx",
          "columns": [
            {
              "expression": "agent_profile_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "ai_arena_agent_decisions_role_idx": {
          "name": "ai_arena_agent_decisions_role_idx",
          "columns": [
            {
              "expression": "role",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "ai_arena_agent_decisions_arena_run_id_ai_arena_runs_id_fk": {
          "name": "ai_arena_agent_decisions_arena_run_id_ai_arena_runs_id_fk",
          "tableFrom": "ai_arena_agent_decisions",
          "tableTo": "ai_arena_runs",
          "columnsFrom": ["arena_run_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "ai_arena_agent_decisions_agent_profile_id_ai_agent_profiles_id_fk": {
          "name": "ai_arena_agent_decisions_agent_profile_id_ai_agent_profiles_id_fk",
          "tableFrom": "ai_arena_agent_decisions",
          "tableTo": "ai_agent_profiles",
          "columnsFrom": ["agent_profile_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.ai_arena_runs": {
      "name": "ai_arena_runs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "trace_id": {
          "name": "trace_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "mode": {
          "name": "mode",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'debate'"
        },
        "symbols": {
          "name": "symbols",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "agent_profile_ids": {
          "name": "agent_profile_ids",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "market_snapshot_hash": {
          "name": "market_snapshot_hash",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "portfolio_snapshot_hash": {
          "name": "portfolio_snapshot_hash",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "strategy_version_id": {
          "name": "strategy_version_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "duration_ms": {
          "name": "duration_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "total_tokens_used": {
          "name": "total_tokens_used",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "total_cost_usd": {
          "name": "total_cost_usd",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "escalation_triggered": {
          "name": "escalation_triggered",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "escalation_reason": {
          "name": "escalation_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "consensus_reached": {
          "name": "consensus_reached",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "final_decision": {
          "name": "final_decision",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "disagreement_rate": {
          "name": "disagreement_rate",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "avg_confidence": {
          "name": "avg_confidence",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "triggered_by": {
          "name": "triggered_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "outcome_linked": {
          "name": "outcome_linked",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "ai_arena_runs_trace_id_idx": {
          "name": "ai_arena_runs_trace_id_idx",
          "columns": [
            {
              "expression": "trace_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "ai_arena_runs_status_idx": {
          "name": "ai_arena_runs_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "ai_arena_runs_mode_idx": {
          "name": "ai_arena_runs_mode_idx",
          "columns": [
            {
              "expression": "mode",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "ai_arena_runs_created_at_idx": {
          "name": "ai_arena_runs_created_at_idx",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "ai_arena_runs_strategy_version_id_strategy_versions_id_fk": {
          "name": "ai_arena_runs_strategy_version_id_strategy_versions_id_fk",
          "tableFrom": "ai_arena_runs",
          "tableTo": "strategy_versions",
          "columnsFrom": ["strategy_version_id"],
          "columnsTo": ["id"],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.ai_calibration_log": {
      "name": "ai_calibration_log",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "calibration_type": {
          "name": "calibration_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "data_window_days": {
          "name": "data_window_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 30
        },
        "total_decisions": {
          "name": "total_decisions",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "win_count": {
          "name": "win_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "loss_count": {
          "name": "loss_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "avg_confidence_on_wins": {
          "name": "avg_confidence_on_wins",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "avg_confidence_on_losses": {
          "name": "avg_confidence_on_losses",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "avg_holding_time_wins": {
          "name": "avg_holding_time_wins",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "avg_holding_time_losses": {
          "name": "avg_holding_time_losses",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "top_winning_symbols": {
          "name": "top_winning_symbols",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "top_losing_symbols": {
          "name": "top_losing_symbols",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "recommended_adjustments": {
          "name": "recommended_adjustments",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "model_version": {
          "name": "model_version",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.ai_decision_features": {
      "name": "ai_decision_features",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "decision_id": {
          "name": "decision_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "symbol": {
          "name": "symbol",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "volatility": {
          "name": "volatility",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "trend_strength": {
          "name": "trend_strength",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "signal_agreement": {
          "name": "signal_agreement",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "sentiment_score": {
          "name": "sentiment_score",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "pe_ratio": {
          "name": "pe_ratio",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "pb_ratio": {
          "name": "pb_ratio",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "rsi": {
          "name": "rsi",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "macd_signal": {
          "name": "macd_signal",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "volume_ratio": {
          "name": "volume_ratio",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "price_change_percent": {
          "name": "price_change_percent",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "market_condition": {
          "name": "market_condition",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "data_quality": {
          "name": "data_quality",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "active_sources": {
          "name": "active_sources",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "feature_vector": {
          "name": "feature_vector",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "ai_decision_features_decision_id_ai_decisions_id_fk": {
          "name": "ai_decision_features_decision_id_ai_decisions_id_fk",
          "tableFrom": "ai_decision_features",
          "tableTo": "ai_decisions",
          "columnsFrom": ["decision_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.ai_decisions": {
      "name": "ai_decisions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "strategy_id": {
          "name": "strategy_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "symbol": {
          "name": "symbol",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "action": {
          "name": "action",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "confidence": {
          "name": "confidence",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "reasoning": {
          "name": "reasoning",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "market_context": {
          "name": "market_context",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "executed_trade_id": {
          "name": "executed_trade_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "stop_loss": {
          "name": "stop_loss",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "take_profit": {
          "name": "take_profit",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "entry_price": {
          "name": "entry_price",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "filled_price": {
          "name": "filled_price",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "filled_at": {
          "name": "filled_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "skip_reason": {
          "name": "skip_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "trace_id": {
          "name": "trace_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "ai_decisions_user_id_idx": {
          "name": "ai_decisions_user_id_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "ai_decisions_user_id_users_id_fk": {
          "name": "ai_decisions_user_id_users_id_fk",
          "tableFrom": "ai_decisions",
          "tableTo": "users",
          "columnsFrom": ["user_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "ai_decisions_strategy_id_strategies_id_fk": {
          "name": "ai_decisions_strategy_id_strategies_id_fk",
          "tableFrom": "ai_decisions",
          "tableTo": "strategies",
          "columnsFrom": ["strategy_id"],
          "columnsTo": ["id"],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "ai_decisions_executed_trade_id_trades_id_fk": {
          "name": "ai_decisions_executed_trade_id_trades_id_fk",
          "tableFrom": "ai_decisions",
          "tableTo": "trades",
          "columnsFrom": ["executed_trade_id"],
          "columnsTo": ["id"],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.ai_outcome_links": {
      "name": "ai_outcome_links",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "consensus_id": {
          "name": "consensus_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "debate_session_id": {
          "name": "debate_session_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "decision_id": {
          "name": "decision_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "work_item_id": {
          "name": "work_item_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "broker_order_id": {
          "name": "broker_order_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "symbol": {
          "name": "symbol",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "side": {
          "name": "side",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "intended_qty": {
          "name": "intended_qty",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "intended_notional": {
          "name": "intended_notional",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "filled_qty": {
          "name": "filled_qty",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "filled_avg_price": {
          "name": "filled_avg_price",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "fill_count": {
          "name": "fill_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "pnl_realized": {
          "name": "pnl_realized",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "pnl_unrealized": {
          "name": "pnl_unrealized",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "entry_price": {
          "name": "entry_price",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "exit_price": {
          "name": "exit_price",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "hold_duration_ms": {
          "name": "hold_duration_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "outcome": {
          "name": "outcome",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'unknown'"
        },
        "llm_cost_usd": {
          "name": "llm_cost_usd",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "trace_id": {
          "name": "trace_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "closed_at": {
          "name": "closed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "ai_outcome_links_consensus_id_idx": {
          "name": "ai_outcome_links_consensus_id_idx",
          "columns": [
            {
              "expression": "consensus_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "ai_outcome_links_debate_session_id_idx": {
          "name": "ai_outcome_links_debate_session_id_idx",
          "columns": [
            {
              "expression": "debate_session_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "ai_outcome_links_work_item_id_idx": {
          "name": "ai_outcome_links_work_item_id_idx",
          "columns": [
            {
              "expression": "work_item_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "ai_outcome_links_symbol_idx": {
          "name": "ai_outcome_links_symbol_idx",
          "columns": [
            {
              "expression": "symbol",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "ai_outcome_links_status_idx": {
          "name": "ai_outcome_links_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "ai_outcome_links_outcome_idx": {
          "name": "ai_outcome_links_outcome_idx",
          "columns": [
            {
              "expression": "outcome",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "ai_outcome_links_created_at_idx": {
          "name": "ai_outcome_links_created_at_idx",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "ai_outcome_links_consensus_id_debate_consensus_id_fk": {
          "name": "ai_outcome_links_consensus_id_debate_consensus_id_fk",
          "tableFrom": "ai_outcome_links",
          "tableTo": "debate_consensus",
          "columnsFrom": ["consensus_id"],
          "columnsTo": ["id"],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "ai_outcome_links_debate_session_id_debate_sessions_id_fk": {
          "name": "ai_outcome_links_debate_session_id_debate_sessions_id_fk",
          "tableFrom": "ai_outcome_links",
          "tableTo": "debate_sessions",
          "columnsFrom": ["debate_session_id"],
          "columnsTo": ["id"],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "ai_outcome_links_decision_id_ai_decisions_id_fk": {
          "name": "ai_outcome_links_decision_id_ai_decisions_id_fk",
          "tableFrom": "ai_outcome_links",
          "tableTo": "ai_decisions",
          "columnsFrom": ["decision_id"],
          "columnsTo": ["id"],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "ai_outcome_links_work_item_id_work_items_id_fk": {
          "name": "ai_outcome_links_work_item_id_work_items_id_fk",
          "tableFrom": "ai_outcome_links",
          "tableTo": "work_items",
          "columnsFrom": ["work_item_id"],
          "columnsTo": ["id"],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.ai_trade_outcomes": {
      "name": "ai_trade_outcomes",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "decision_id": {
          "name": "decision_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "trade_id": {
          "name": "trade_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "symbol": {
          "name": "symbol",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "action": {
          "name": "action",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "prediction_confidence": {
          "name": "prediction_confidence",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "entry_price": {
          "name": "entry_price",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "exit_price": {
          "name": "exit_price",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "quantity": {
          "name": "quantity",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "realized_pnl": {
          "name": "realized_pnl",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "realized_pnl_percent": {
          "name": "realized_pnl_percent",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "holding_time_ms": {
          "name": "holding_time_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "is_win": {
          "name": "is_win",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "slippage_percent": {
          "name": "slippage_percent",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "target_price_hit": {
          "name": "target_price_hit",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "stop_loss_hit": {
          "name": "stop_loss_hit",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "max_drawdown": {
          "name": "max_drawdown",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "max_gain": {
          "name": "max_gain",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "market_session_at_entry": {
          "name": "market_session_at_entry",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "market_session_at_exit": {
          "name": "market_session_at_exit",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "strategy_id": {
          "name": "strategy_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "exit_reason": {
          "name": "exit_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "closed_at": {
          "name": "closed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "ai_trade_outcomes_decision_id_ai_decisions_id_fk": {
          "name": "ai_trade_outcomes_decision_id_ai_decisions_id_fk",
          "tableFrom": "ai_trade_outcomes",
          "tableTo": "ai_decisions",
          "columnsFrom": ["decision_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "ai_trade_outcomes_trade_id_trades_id_fk": {
          "name": "ai_trade_outcomes_trade_id_trades_id_fk",
          "tableFrom": "ai_trade_outcomes",
          "tableTo": "trades",
          "columnsFrom": ["trade_id"],
          "columnsTo": ["id"],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "ai_trade_outcomes_strategy_id_strategies_id_fk": {
          "name": "ai_trade_outcomes_strategy_id_strategies_id_fk",
          "tableFrom": "ai_trade_outcomes",
          "tableTo": "strategies",
          "columnsFrom": ["strategy_id"],
          "columnsTo": ["id"],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.alert_events": {
      "name": "alert_events",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "rule_id": {
          "name": "rule_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "rule_name": {
          "name": "rule_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "rule_type": {
          "name": "rule_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "triggered_value": {
          "name": "triggered_value",
          "type": "numeric",
          "primaryKey": false,
          "notNull": true
        },
        "threshold": {
          "name": "threshold",
          "type": "numeric",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'triggered'"
        },
        "webhook_sent": {
          "name": "webhook_sent",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "webhook_response": {
          "name": "webhook_response",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "alert_events_rule_id_idx": {
          "name": "alert_events_rule_id_idx",
          "columns": [
            {
              "expression": "rule_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "alert_events_created_at_idx": {
          "name": "alert_events_created_at_idx",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "alert_events_rule_id_alert_rules_id_fk": {
          "name": "alert_events_rule_id_alert_rules_id_fk",
          "tableFrom": "alert_events",
          "tableTo": "alert_rules",
          "columnsFrom": ["rule_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.alert_rules": {
      "name": "alert_rules",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "rule_type": {
          "name": "rule_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "condition": {
          "name": "condition",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "threshold": {
          "name": "threshold",
          "type": "numeric",
          "primaryKey": false,
          "notNull": true
        },
        "enabled": {
          "name": "enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "webhook_url": {
          "name": "webhook_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "last_triggered_at": {
          "name": "last_triggered_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "last_checked_at": {
          "name": "last_checked_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "alert_rules_enabled_idx": {
          "name": "alert_rules_enabled_idx",
          "columns": [
            {
              "expression": "enabled",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "alert_rules_type_idx": {
          "name": "alert_rules_type_idx",
          "columns": [
            {
              "expression": "rule_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "alert_rules_name_unique": {
          "name": "alert_rules_name_unique",
          "nullsNotDistinct": false,
          "columns": ["name"]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.allocation_policies": {
      "name": "allocation_policies",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "max_position_weight_pct": {
          "name": "max_position_weight_pct",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false,
          "default": "'8'"
        },
        "max_sector_weight_pct": {
          "name": "max_sector_weight_pct",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false,
          "default": "'25'"
        },
        "min_liquidity_tier": {
          "name": "min_liquidity_tier",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'B'"
        },
        "profit_taking_threshold_pct": {
          "name": "profit_taking_threshold_pct",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false,
          "default": "'20'"
        },
        "overweight_threshold_pct": {
          "name": "overweight_threshold_pct",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false,
          "default": "'50'"
        },
        "rotation_top_n": {
          "name": "rotation_top_n",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 10
        },
        "rebalance_frequency": {
          "name": "rebalance_frequency",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'daily'"
        },
        "created_by": {
          "name": "created_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "allocation_policies_active_idx": {
          "name": "allocation_policies_active_idx",
          "columns": [
            {
              "expression": "is_active",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "allocation_policies_created_by_users_id_fk": {
          "name": "allocation_policies_created_by_users_id_fk",
          "tableFrom": "allocation_policies",
          "tableTo": "users",
          "columnsFrom": ["created_by"],
          "columnsTo": ["id"],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "allocation_policies_name_unique": {
          "name": "allocation_policies_name_unique",
          "nullsNotDistinct": false,
          "columns": ["name"]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.analysis_feedback": {
      "name": "analysis_feedback",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "data_source_analysis_id": {
          "name": "data_source_analysis_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "trade_outcome_id": {
          "name": "trade_outcome_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "symbol": {
          "name": "symbol",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "source": {
          "name": "source",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "signal_at_entry": {
          "name": "signal_at_entry",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "confidence_at_entry": {
          "name": "confidence_at_entry",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "trade_result": {
          "name": "trade_result",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "pnl_percent": {
          "name": "pnl_percent",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "signal_accuracy": {
          "name": "signal_accuracy",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "holding_time_ms": {
          "name": "holding_time_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "analysis_feedback_source_idx": {
          "name": "analysis_feedback_source_idx",
          "columns": [
            {
              "expression": "source",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "analysis_feedback_symbol_idx": {
          "name": "analysis_feedback_symbol_idx",
          "columns": [
            {
              "expression": "symbol",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "analysis_feedback_created_at_idx": {
          "name": "analysis_feedback_created_at_idx",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "analysis_feedback_data_source_analysis_id_data_source_analysis_id_fk": {
          "name": "analysis_feedback_data_source_analysis_id_data_source_analysis_id_fk",
          "tableFrom": "analysis_feedback",
          "tableTo": "data_source_analysis",
          "columnsFrom": ["data_source_analysis_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "analysis_feedback_trade_outcome_id_ai_trade_outcomes_id_fk": {
          "name": "analysis_feedback_trade_outcome_id_ai_trade_outcomes_id_fk",
          "tableFrom": "analysis_feedback",
          "tableTo": "ai_trade_outcomes",
          "columnsFrom": ["trade_outcome_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.asset_classifications": {
      "name": "asset_classifications",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "symbol": {
          "name": "symbol",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "asset_class": {
          "name": "asset_class",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "market_cap_tier": {
          "name": "market_cap_tier",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "liquidity_tier": {
          "name": "liquidity_tier",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "volatility_tier": {
          "name": "volatility_tier",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "trend_strength": {
          "name": "trend_strength",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "momentum_score": {
          "name": "momentum_score",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "value_score": {
          "name": "value_score",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "quality_score": {
          "name": "quality_score",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "last_updated_at": {
          "name": "last_updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "source": {
          "name": "source",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "raw_json": {
          "name": "raw_json",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "asset_classifications_symbol_idx": {
          "name": "asset_classifications_symbol_idx",
          "columns": [
            {
              "expression": "symbol",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "asset_classifications_asset_class_idx": {
          "name": "asset_classifications_asset_class_idx",
          "columns": [
            {
              "expression": "asset_class",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "asset_classifications_market_cap_tier_idx": {
          "name": "asset_classifications_market_cap_tier_idx",
          "columns": [
            {
              "expression": "market_cap_tier",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "asset_classifications_symbol_unique": {
          "name": "asset_classifications_symbol_unique",
          "nullsNotDistinct": false,
          "columns": ["symbol"]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.audit_logs": {
      "name": "audit_logs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "username": {
          "name": "username",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "action": {
          "name": "action",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "resource": {
          "name": "resource",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "resource_id": {
          "name": "resource_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "method": {
          "name": "method",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "path": {
          "name": "path",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "ip_address": {
          "name": "ip_address",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "request_body": {
          "name": "request_body",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "response_status": {
          "name": "response_status",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "timestamp": {
          "name": "timestamp",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "audit_logs_user_id_idx": {
          "name": "audit_logs_user_id_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "audit_logs_action_idx": {
          "name": "audit_logs_action_idx",
          "columns": [
            {
              "expression": "action",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "audit_logs_resource_idx": {
          "name": "audit_logs_resource_idx",
          "columns": [
            {
              "expression": "resource",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "audit_logs_timestamp_idx": {
          "name": "audit_logs_timestamp_idx",
          "columns": [
            {
              "expression": "timestamp",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "audit_logs_user_id_users_id_fk": {
          "name": "audit_logs_user_id_users_id_fk",
          "tableFrom": "audit_logs",
          "tableTo": "users",
          "columnsFrom": ["user_id"],
          "columnsTo": ["id"],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.backtest_equity_curve": {
      "name": "backtest_equity_curve",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "run_id": {
          "name": "run_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "ts": {
          "name": "ts",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "equity": {
          "name": "equity",
          "type": "numeric",
          "primaryKey": false,
          "notNull": true
        },
        "cash": {
          "name": "cash",
          "type": "numeric",
          "primaryKey": false,
          "notNull": true
        },
        "exposure": {
          "name": "exposure",
          "type": "numeric",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "backtest_equity_curve_run_id_idx": {
          "name": "backtest_equity_curve_run_id_idx",
          "columns": [
            {
              "expression": "run_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "backtest_equity_curve_ts_idx": {
          "name": "backtest_equity_curve_ts_idx",
          "columns": [
            {
              "expression": "ts",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "backtest_equity_curve_run_id_backtest_runs_id_fk": {
          "name": "backtest_equity_curve_run_id_backtest_runs_id_fk",
          "tableFrom": "backtest_equity_curve",
          "tableTo": "backtest_runs",
          "columnsFrom": ["run_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.backtest_runs": {
      "name": "backtest_runs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'QUEUED'"
        },
        "strategy_id": {
          "name": "strategy_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "strategy_config_hash": {
          "name": "strategy_config_hash",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "strategy_config": {
          "name": "strategy_config",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "universe": {
          "name": "universe",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "broker": {
          "name": "broker",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "timeframe": {
          "name": "timeframe",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "start_date": {
          "name": "start_date",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "end_date": {
          "name": "end_date",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "initial_cash": {
          "name": "initial_cash",
          "type": "numeric",
          "primaryKey": false,
          "notNull": true
        },
        "fees_model": {
          "name": "fees_model",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "slippage_model": {
          "name": "slippage_model",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "execution_price_rule": {
          "name": "execution_price_rule",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "data_source": {
          "name": "data_source",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "provenance": {
          "name": "provenance",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "results_summary": {
          "name": "results_summary",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "runtime_ms": {
          "name": "runtime_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "backtest_runs_status_idx": {
          "name": "backtest_runs_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "backtest_runs_strategy_id_idx": {
          "name": "backtest_runs_strategy_id_idx",
          "columns": [
            {
              "expression": "strategy_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "backtest_runs_created_at_idx": {
          "name": "backtest_runs_created_at_idx",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "backtest_runs_strategy_id_strategies_id_fk": {
          "name": "backtest_runs_strategy_id_strategies_id_fk",
          "tableFrom": "backtest_runs",
          "tableTo": "strategies",
          "columnsFrom": ["strategy_id"],
          "columnsTo": ["id"],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.backtest_trade_events": {
      "name": "backtest_trade_events",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "run_id": {
          "name": "run_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "ts": {
          "name": "ts",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "symbol": {
          "name": "symbol",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "side": {
          "name": "side",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "qty": {
          "name": "qty",
          "type": "numeric",
          "primaryKey": false,
          "notNull": true
        },
        "price": {
          "name": "price",
          "type": "numeric",
          "primaryKey": false,
          "notNull": true
        },
        "reason": {
          "name": "reason",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "order_type": {
          "name": "order_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "fees": {
          "name": "fees",
          "type": "numeric",
          "primaryKey": false,
          "notNull": true
        },
        "slippage": {
          "name": "slippage",
          "type": "numeric",
          "primaryKey": false,
          "notNull": true
        },
        "position_after": {
          "name": "position_after",
          "type": "numeric",
          "primaryKey": false,
          "notNull": true
        },
        "cash_after": {
          "name": "cash_after",
          "type": "numeric",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "backtest_trade_events_run_id_idx": {
          "name": "backtest_trade_events_run_id_idx",
          "columns": [
            {
              "expression": "run_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "backtest_trade_events_ts_idx": {
          "name": "backtest_trade_events_ts_idx",
          "columns": [
            {
              "expression": "ts",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "backtest_trade_events_symbol_idx": {
          "name": "backtest_trade_events_symbol_idx",
          "columns": [
            {
              "expression": "symbol",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "backtest_trade_events_run_id_backtest_runs_id_fk": {
          "name": "backtest_trade_events_run_id_backtest_runs_id_fk",
          "tableFrom": "backtest_trade_events",
          "tableTo": "backtest_runs",
          "columnsFrom": ["run_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.broker_assets": {
      "name": "broker_assets",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "alpaca_id": {
          "name": "alpaca_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "symbol": {
          "name": "symbol",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "asset_class": {
          "name": "asset_class",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "exchange": {
          "name": "exchange",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "tradable": {
          "name": "tradable",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "marginable": {
          "name": "marginable",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "shortable": {
          "name": "shortable",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "easy_to_borrow": {
          "name": "easy_to_borrow",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "fractionable": {
          "name": "fractionable",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "min_order_size": {
          "name": "min_order_size",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "min_trade_increment": {
          "name": "min_trade_increment",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "price_increment": {
          "name": "price_increment",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "last_synced_at": {
          "name": "last_synced_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "broker_assets_alpaca_id_unique": {
          "name": "broker_assets_alpaca_id_unique",
          "nullsNotDistinct": false,
          "columns": ["alpaca_id"]
        },
        "broker_assets_symbol_unique": {
          "name": "broker_assets_symbol_unique",
          "nullsNotDistinct": false,
          "columns": ["symbol"]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.competition_runs": {
      "name": "competition_runs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "trace_id": {
          "name": "trace_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "mode": {
          "name": "mode",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "trader_ids": {
          "name": "trader_ids",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "universe_symbols": {
          "name": "universe_symbols",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "ended_at": {
          "name": "ended_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "duration_minutes": {
          "name": "duration_minutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "config": {
          "name": "config",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "competition_runs_trace_id_idx": {
          "name": "competition_runs_trace_id_idx",
          "columns": [
            {
              "expression": "trace_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "competition_runs_status_idx": {
          "name": "competition_runs_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.competition_scores": {
      "name": "competition_scores",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "run_id": {
          "name": "run_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "trader_profile_id": {
          "name": "trader_profile_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "total_pnl": {
          "name": "total_pnl",
          "type": "numeric",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "roi": {
          "name": "roi",
          "type": "numeric",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "max_drawdown": {
          "name": "max_drawdown",
          "type": "numeric",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "win_rate": {
          "name": "win_rate",
          "type": "numeric",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "avg_hold_time": {
          "name": "avg_hold_time",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "trade_count": {
          "name": "trade_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "error_count": {
          "name": "error_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "cost_per_decision": {
          "name": "cost_per_decision",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "slippage_proxy": {
          "name": "slippage_proxy",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "rank": {
          "name": "rank",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "snapshot_at": {
          "name": "snapshot_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "details": {
          "name": "details",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "competition_scores_run_id_idx": {
          "name": "competition_scores_run_id_idx",
          "columns": [
            {
              "expression": "run_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "competition_scores_trader_id_idx": {
          "name": "competition_scores_trader_id_idx",
          "columns": [
            {
              "expression": "trader_profile_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "competition_scores_rank_idx": {
          "name": "competition_scores_rank_idx",
          "columns": [
            {
              "expression": "rank",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "competition_scores_run_id_competition_runs_id_fk": {
          "name": "competition_scores_run_id_competition_runs_id_fk",
          "tableFrom": "competition_scores",
          "tableTo": "competition_runs",
          "columnsFrom": ["run_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "competition_scores_trader_profile_id_trader_profiles_id_fk": {
          "name": "competition_scores_trader_profile_id_trader_profiles_id_fk",
          "tableFrom": "competition_scores",
          "tableTo": "trader_profiles",
          "columnsFrom": ["trader_profile_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.connector_metrics": {
      "name": "connector_metrics",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "connector": {
          "name": "connector",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "endpoint": {
          "name": "endpoint",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "date": {
          "name": "date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "total_requests": {
          "name": "total_requests",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "success_count": {
          "name": "success_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "failure_count": {
          "name": "failure_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "cache_hits": {
          "name": "cache_hits",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "cache_misses": {
          "name": "cache_misses",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "rate_limit_hits": {
          "name": "rate_limit_hits",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "fallback_used": {
          "name": "fallback_used",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "avg_latency_ms": {
          "name": "avg_latency_ms",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "p50_latency_ms": {
          "name": "p50_latency_ms",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "p95_latency_ms": {
          "name": "p95_latency_ms",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "p99_latency_ms": {
          "name": "p99_latency_ms",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "last_error": {
          "name": "last_error",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "last_error_at": {
          "name": "last_error_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "connector_metrics_connector_idx": {
          "name": "connector_metrics_connector_idx",
          "columns": [
            {
              "expression": "connector",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "connector_metrics_date_idx": {
          "name": "connector_metrics_date_idx",
          "columns": [
            {
              "expression": "date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "connector_metrics_connector_endpoint_date_unique": {
          "name": "connector_metrics_connector_endpoint_date_unique",
          "nullsNotDistinct": false,
          "columns": ["connector", "endpoint", "date"]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.data_source_analysis": {
      "name": "data_source_analysis",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "decision_id": {
          "name": "decision_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "symbol": {
          "name": "symbol",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "source": {
          "name": "source",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "analysis_type": {
          "name": "analysis_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "data_json": {
          "name": "data_json",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "score": {
          "name": "score",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "signal": {
          "name": "signal",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "confidence": {
          "name": "confidence",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "reliability": {
          "name": "reliability",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "data_source_analysis_decision_id_idx": {
          "name": "data_source_analysis_decision_id_idx",
          "columns": [
            {
              "expression": "decision_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "data_source_analysis_symbol_idx": {
          "name": "data_source_analysis_symbol_idx",
          "columns": [
            {
              "expression": "symbol",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "data_source_analysis_source_idx": {
          "name": "data_source_analysis_source_idx",
          "columns": [
            {
              "expression": "source",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "data_source_analysis_created_at_idx": {
          "name": "data_source_analysis_created_at_idx",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "data_source_analysis_decision_id_ai_decisions_id_fk": {
          "name": "data_source_analysis_decision_id_ai_decisions_id_fk",
          "tableFrom": "data_source_analysis",
          "tableTo": "ai_decisions",
          "columnsFrom": ["decision_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.debate_consensus": {
      "name": "debate_consensus",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "session_id": {
          "name": "session_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "decision": {
          "name": "decision",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "order_intent": {
          "name": "order_intent",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "reasons_summary": {
          "name": "reasons_summary",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "risk_checks": {
          "name": "risk_checks",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "confidence": {
          "name": "confidence",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "dissent": {
          "name": "dissent",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "work_item_id": {
          "name": "work_item_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "broker_order_id": {
          "name": "broker_order_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "debate_consensus_session_id_idx": {
          "name": "debate_consensus_session_id_idx",
          "columns": [
            {
              "expression": "session_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "debate_consensus_work_item_id_idx": {
          "name": "debate_consensus_work_item_id_idx",
          "columns": [
            {
              "expression": "work_item_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "debate_consensus_session_id_debate_sessions_id_fk": {
          "name": "debate_consensus_session_id_debate_sessions_id_fk",
          "tableFrom": "debate_consensus",
          "tableTo": "debate_sessions",
          "columnsFrom": ["session_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "debate_consensus_work_item_id_work_items_id_fk": {
          "name": "debate_consensus_work_item_id_work_items_id_fk",
          "tableFrom": "debate_consensus",
          "tableTo": "work_items",
          "columnsFrom": ["work_item_id"],
          "columnsTo": ["id"],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "debate_consensus_session_id_unique": {
          "name": "debate_consensus_session_id_unique",
          "nullsNotDistinct": false,
          "columns": ["session_id"]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.debate_messages": {
      "name": "debate_messages",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "session_id": {
          "name": "session_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "role": {
          "name": "role",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "stance": {
          "name": "stance",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "confidence": {
          "name": "confidence",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "key_signals": {
          "name": "key_signals",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "risks": {
          "name": "risks",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "invalidation_points": {
          "name": "invalidation_points",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "proposed_action": {
          "name": "proposed_action",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "proposed_order": {
          "name": "proposed_order",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "evidence_refs": {
          "name": "evidence_refs",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "raw_output": {
          "name": "raw_output",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "provider": {
          "name": "provider",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "model": {
          "name": "model",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "tokens_used": {
          "name": "tokens_used",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "estimated_cost": {
          "name": "estimated_cost",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "latency_ms": {
          "name": "latency_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "debate_messages_session_id_idx": {
          "name": "debate_messages_session_id_idx",
          "columns": [
            {
              "expression": "session_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "debate_messages_role_idx": {
          "name": "debate_messages_role_idx",
          "columns": [
            {
              "expression": "role",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "debate_messages_session_id_debate_sessions_id_fk": {
          "name": "debate_messages_session_id_debate_sessions_id_fk",
          "tableFrom": "debate_messages",
          "tableTo": "debate_sessions",
          "columnsFrom": ["session_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.debate_sessions": {
      "name": "debate_sessions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "trace_id": {
          "name": "trace_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "strategy_version_id": {
          "name": "strategy_version_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "symbols": {
          "name": "symbols",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "triggered_by": {
          "name": "triggered_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "market_context": {
          "name": "market_context",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "config": {
          "name": "config",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "duration_ms": {
          "name": "duration_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "total_cost": {
          "name": "total_cost",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "debate_sessions_trace_id_idx": {
          "name": "debate_sessions_trace_id_idx",
          "columns": [
            {
              "expression": "trace_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "debate_sessions_status_idx": {
          "name": "debate_sessions_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "debate_sessions_created_at_idx": {
          "name": "debate_sessions_created_at_idx",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.external_api_cache_entries": {
      "name": "external_api_cache_entries",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "provider": {
          "name": "provider",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "cache_key": {
          "name": "cache_key",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "response_json": {
          "name": "response_json",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "stale_until_at": {
          "name": "stale_until_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "hit_count": {
          "name": "hit_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "last_accessed_at": {
          "name": "last_accessed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.external_api_usage_counters": {
      "name": "external_api_usage_counters",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "provider": {
          "name": "provider",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "window_type": {
          "name": "window_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "window_start": {
          "name": "window_start",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "window_end": {
          "name": "window_end",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "request_count": {
          "name": "request_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "token_count": {
          "name": "token_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "error_count": {
          "name": "error_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "rate_limit_hits": {
          "name": "rate_limit_hits",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "cache_hits": {
          "name": "cache_hits",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "cache_misses": {
          "name": "cache_misses",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "avg_latency_ms": {
          "name": "avg_latency_ms",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.fills": {
      "name": "fills",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "broker": {
          "name": "broker",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "broker_order_id": {
          "name": "broker_order_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "broker_fill_id": {
          "name": "broker_fill_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "order_id": {
          "name": "order_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "symbol": {
          "name": "symbol",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "side": {
          "name": "side",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "qty": {
          "name": "qty",
          "type": "numeric",
          "primaryKey": false,
          "notNull": true
        },
        "price": {
          "name": "price",
          "type": "numeric",
          "primaryKey": false,
          "notNull": true
        },
        "occurred_at": {
          "name": "occurred_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "trace_id": {
          "name": "trace_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "raw_json": {
          "name": "raw_json",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "fills_broker_order_id_idx": {
          "name": "fills_broker_order_id_idx",
          "columns": [
            {
              "expression": "broker_order_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "fills_order_id_idx": {
          "name": "fills_order_id_idx",
          "columns": [
            {
              "expression": "order_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "fills_symbol_idx": {
          "name": "fills_symbol_idx",
          "columns": [
            {
              "expression": "symbol",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "fills_trace_id_idx": {
          "name": "fills_trace_id_idx",
          "columns": [
            {
              "expression": "trace_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "fills_order_id_orders_id_fk": {
          "name": "fills_order_id_orders_id_fk",
          "tableFrom": "fills",
          "tableTo": "orders",
          "columnsFrom": ["order_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "fills_broker_fill_id_unique": {
          "name": "fills_broker_fill_id_unique",
          "nullsNotDistinct": false,
          "columns": ["broker_fill_id"]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.insider_activity_analysis": {
      "name": "insider_activity_analysis",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "symbol": {
          "name": "symbol",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "total_buys": {
          "name": "total_buys",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "total_sells": {
          "name": "total_sells",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "net_activity": {
          "name": "net_activity",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "net_value": {
          "name": "net_value",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "buy_to_sell_ratio": {
          "name": "buy_to_sell_ratio",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "sentiment": {
          "name": "sentiment",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "recent_transactions_json": {
          "name": "recent_transactions_json",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "analysis_window_days": {
          "name": "analysis_window_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 90
        },
        "analysis_date": {
          "name": "analysis_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "insider_activity_symbol_idx": {
          "name": "insider_activity_symbol_idx",
          "columns": [
            {
              "expression": "symbol",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "insider_activity_date_idx": {
          "name": "insider_activity_date_idx",
          "columns": [
            {
              "expression": "analysis_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "insider_activity_symbol_date_unique": {
          "name": "insider_activity_symbol_date_unique",
          "nullsNotDistinct": false,
          "columns": ["symbol", "analysis_date"]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.llm_calls": {
      "name": "llm_calls",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "role": {
          "name": "role",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "provider": {
          "name": "provider",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "model": {
          "name": "model",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "prompt_tokens": {
          "name": "prompt_tokens",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "completion_tokens": {
          "name": "completion_tokens",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "total_tokens": {
          "name": "total_tokens",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "estimated_cost": {
          "name": "estimated_cost",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "latency_ms": {
          "name": "latency_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'success'"
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "system_prompt": {
          "name": "system_prompt",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "user_prompt": {
          "name": "user_prompt",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "response": {
          "name": "response",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "cache_hit": {
          "name": "cache_hit",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "fallback_used": {
          "name": "fallback_used",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "fallback_reason": {
          "name": "fallback_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "trace_id": {
          "name": "trace_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "criticality": {
          "name": "criticality",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "purpose": {
          "name": "purpose",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.llm_role_configs": {
      "name": "llm_role_configs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "role": {
          "name": "role",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "fallback_chain": {
          "name": "fallback_chain",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "max_tokens": {
          "name": "max_tokens",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 1000
        },
        "temperature": {
          "name": "temperature",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false,
          "default": "'0.3'"
        },
        "enable_citations": {
          "name": "enable_citations",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "llm_role_configs_role_unique": {
          "name": "llm_role_configs_role_unique",
          "nullsNotDistinct": false,
          "columns": ["role"]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.macro_analysis": {
      "name": "macro_analysis",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "vix": {
          "name": "vix",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "fed_funds_rate": {
          "name": "fed_funds_rate",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "yield_curve": {
          "name": "yield_curve",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "inflation": {
          "name": "inflation",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "unemployment": {
          "name": "unemployment",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "market_regime": {
          "name": "market_regime",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "indicators_json": {
          "name": "indicators_json",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "analysis_date": {
          "name": "analysis_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "macro_analysis_date_idx": {
          "name": "macro_analysis_date_idx",
          "columns": [
            {
              "expression": "analysis_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "macro_analysis_date_unique": {
          "name": "macro_analysis_date_unique",
          "nullsNotDistinct": false,
          "columns": ["analysis_date"]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.macro_indicators": {
      "name": "macro_indicators",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "indicator_id": {
          "name": "indicator_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "category": {
          "name": "category",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "latest_value": {
          "name": "latest_value",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "previous_value": {
          "name": "previous_value",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "change_percent": {
          "name": "change_percent",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "frequency": {
          "name": "frequency",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "last_updated_at": {
          "name": "last_updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "source": {
          "name": "source",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'FRED'"
        },
        "raw_json": {
          "name": "raw_json",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "macro_indicators_category_idx": {
          "name": "macro_indicators_category_idx",
          "columns": [
            {
              "expression": "category",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "macro_indicators_indicator_id_idx": {
          "name": "macro_indicators_indicator_id_idx",
          "columns": [
            {
              "expression": "indicator_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "macro_indicators_indicator_id_unique": {
          "name": "macro_indicators_indicator_id_unique",
          "nullsNotDistinct": false,
          "columns": ["indicator_id"]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.orders": {
      "name": "orders",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "broker": {
          "name": "broker",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "broker_order_id": {
          "name": "broker_order_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "client_order_id": {
          "name": "client_order_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "symbol": {
          "name": "symbol",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "side": {
          "name": "side",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "time_in_force": {
          "name": "time_in_force",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "qty": {
          "name": "qty",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "notional": {
          "name": "notional",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "limit_price": {
          "name": "limit_price",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "stop_price": {
          "name": "stop_price",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "extended_hours": {
          "name": "extended_hours",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "order_class": {
          "name": "order_class",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "submitted_at": {
          "name": "submitted_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "filled_at": {
          "name": "filled_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "expired_at": {
          "name": "expired_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "canceled_at": {
          "name": "canceled_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "failed_at": {
          "name": "failed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "filled_qty": {
          "name": "filled_qty",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "filled_avg_price": {
          "name": "filled_avg_price",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "trace_id": {
          "name": "trace_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "decision_id": {
          "name": "decision_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "trade_intent_id": {
          "name": "trade_intent_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "work_item_id": {
          "name": "work_item_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "raw_json": {
          "name": "raw_json",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "orders_user_id_idx": {
          "name": "orders_user_id_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "orders_broker_order_id_idx": {
          "name": "orders_broker_order_id_idx",
          "columns": [
            {
              "expression": "broker_order_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "orders_client_order_id_idx": {
          "name": "orders_client_order_id_idx",
          "columns": [
            {
              "expression": "client_order_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "orders_symbol_idx": {
          "name": "orders_symbol_idx",
          "columns": [
            {
              "expression": "symbol",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "orders_status_idx": {
          "name": "orders_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "orders_trace_id_idx": {
          "name": "orders_trace_id_idx",
          "columns": [
            {
              "expression": "trace_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "orders_decision_id_idx": {
          "name": "orders_decision_id_idx",
          "columns": [
            {
              "expression": "decision_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "orders_user_id_users_id_fk": {
          "name": "orders_user_id_users_id_fk",
          "tableFrom": "orders",
          "tableTo": "users",
          "columnsFrom": ["user_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "orders_decision_id_ai_decisions_id_fk": {
          "name": "orders_decision_id_ai_decisions_id_fk",
          "tableFrom": "orders",
          "tableTo": "ai_decisions",
          "columnsFrom": ["decision_id"],
          "columnsTo": ["id"],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "orders_trade_intent_id_trades_id_fk": {
          "name": "orders_trade_intent_id_trades_id_fk",
          "tableFrom": "orders",
          "tableTo": "trades",
          "columnsFrom": ["trade_intent_id"],
          "columnsTo": ["id"],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "orders_work_item_id_work_items_id_fk": {
          "name": "orders_work_item_id_work_items_id_fk",
          "tableFrom": "orders",
          "tableTo": "work_items",
          "columnsFrom": ["work_item_id"],
          "columnsTo": ["id"],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "orders_broker_order_id_unique": {
          "name": "orders_broker_order_id_unique",
          "nullsNotDistinct": false,
          "columns": ["broker_order_id"]
        },
        "orders_client_order_id_unique": {
          "name": "orders_client_order_id_unique",
          "nullsNotDistinct": false,
          "columns": ["client_order_id"]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.positions": {
      "name": "positions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "symbol": {
          "name": "symbol",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "quantity": {
          "name": "quantity",
          "type": "numeric",
          "primaryKey": false,
          "notNull": true
        },
        "entry_price": {
          "name": "entry_price",
          "type": "numeric",
          "primaryKey": false,
          "notNull": true
        },
        "current_price": {
          "name": "current_price",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "unrealized_pnl": {
          "name": "unrealized_pnl",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "side": {
          "name": "side",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "opened_at": {
          "name": "opened_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "strategy_id": {
          "name": "strategy_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "positions_user_id_idx": {
          "name": "positions_user_id_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "positions_user_id_users_id_fk": {
          "name": "positions_user_id_users_id_fk",
          "tableFrom": "positions",
          "tableTo": "users",
          "columnsFrom": ["user_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "positions_strategy_id_strategies_id_fk": {
          "name": "positions_strategy_id_strategies_id_fk",
          "tableFrom": "positions",
          "tableTo": "strategies",
          "columnsFrom": ["strategy_id"],
          "columnsTo": ["id"],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.rebalance_runs": {
      "name": "rebalance_runs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "policy_id": {
          "name": "policy_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "trace_id": {
          "name": "trace_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "trigger_type": {
          "name": "trigger_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "input_snapshot": {
          "name": "input_snapshot",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "order_intents": {
          "name": "order_intents",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "executed_orders": {
          "name": "executed_orders",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "rationale": {
          "name": "rationale",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "rebalance_runs_trace_id_idx": {
          "name": "rebalance_runs_trace_id_idx",
          "columns": [
            {
              "expression": "trace_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "rebalance_runs_status_idx": {
          "name": "rebalance_runs_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "rebalance_runs_policy_id_allocation_policies_id_fk": {
          "name": "rebalance_runs_policy_id_allocation_policies_id_fk",
          "tableFrom": "rebalance_runs",
          "tableTo": "allocation_policies",
          "columnsFrom": ["policy_id"],
          "columnsTo": ["id"],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.sessions": {
      "name": "sessions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "sessions_user_id_idx": {
          "name": "sessions_user_id_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "sessions_expires_at_idx": {
          "name": "sessions_expires_at_idx",
          "columns": [
            {
              "expression": "expires_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "sessions_user_id_users_id_fk": {
          "name": "sessions_user_id_users_id_fk",
          "tableFrom": "sessions",
          "tableTo": "users",
          "columnsFrom": ["user_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.short_interest_analysis": {
      "name": "short_interest_analysis",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "symbol": {
          "name": "symbol",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "short_ratio": {
          "name": "short_ratio",
          "type": "numeric",
          "primaryKey": false,
          "notNull": true
        },
        "short_volume": {
          "name": "short_volume",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "total_volume": {
          "name": "total_volume",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "days_to_cover": {
          "name": "days_to_cover",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "short_ratio_trend": {
          "name": "short_ratio_trend",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "squeeze_potential": {
          "name": "squeeze_potential",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "average_short_ratio": {
          "name": "average_short_ratio",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "analysis_date": {
          "name": "analysis_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "short_interest_symbol_idx": {
          "name": "short_interest_symbol_idx",
          "columns": [
            {
              "expression": "symbol",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "short_interest_date_idx": {
          "name": "short_interest_date_idx",
          "columns": [
            {
              "expression": "analysis_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "short_interest_symbol_date_unique": {
          "name": "short_interest_symbol_date_unique",
          "nullsNotDistinct": false,
          "columns": ["symbol", "analysis_date"]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.strategies": {
      "name": "strategies",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "assets": {
          "name": "assets",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "parameters": {
          "name": "parameters",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.strategy_versions": {
      "name": "strategy_versions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "strategy_id": {
          "name": "strategy_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "spec": {
          "name": "spec",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "universe_config": {
          "name": "universe_config",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "signals_config": {
          "name": "signals_config",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "risk_config": {
          "name": "risk_config",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "llm_policy": {
          "name": "llm_policy",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "prompt_template": {
          "name": "prompt_template",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "dry_run_result": {
          "name": "dry_run_result",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "change_notes": {
          "name": "change_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "activated_at": {
          "name": "activated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "strategy_versions_strategy_id_idx": {
          "name": "strategy_versions_strategy_id_idx",
          "columns": [
            {
              "expression": "strategy_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "strategy_versions_status_idx": {
          "name": "strategy_versions_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "strategy_versions_strategy_id_strategies_id_fk": {
          "name": "strategy_versions_strategy_id_strategies_id_fk",
          "tableFrom": "strategy_versions",
          "tableTo": "strategies",
          "columnsFrom": ["strategy_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "strategy_versions_unique": {
          "name": "strategy_versions_unique",
          "nullsNotDistinct": false,
          "columns": ["strategy_id", "version"]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.tool_invocations": {
      "name": "tool_invocations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "trace_id": {
          "name": "trace_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "tool_name": {
          "name": "tool_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "category": {
          "name": "category",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "input_params": {
          "name": "input_params",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "output_result": {
          "name": "output_result",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "cache_hit": {
          "name": "cache_hit",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "latency_ms": {
          "name": "latency_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "caller_role": {
          "name": "caller_role",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "debate_session_id": {
          "name": "debate_session_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "tool_invocations_trace_id_idx": {
          "name": "tool_invocations_trace_id_idx",
          "columns": [
            {
              "expression": "trace_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "tool_invocations_tool_name_idx": {
          "name": "tool_invocations_tool_name_idx",
          "columns": [
            {
              "expression": "tool_name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "tool_invocations_created_at_idx": {
          "name": "tool_invocations_created_at_idx",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "tool_invocations_session_id_idx": {
          "name": "tool_invocations_session_id_idx",
          "columns": [
            {
              "expression": "debate_session_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "tool_invocations_debate_session_id_debate_sessions_id_fk": {
          "name": "tool_invocations_debate_session_id_debate_sessions_id_fk",
          "tableFrom": "tool_invocations",
          "tableTo": "debate_sessions",
          "columnsFrom": ["debate_session_id"],
          "columnsTo": ["id"],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.trader_profiles": {
      "name": "trader_profiles",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "strategy_version_id": {
          "name": "strategy_version_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "model_profile": {
          "name": "model_profile",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "risk_preset": {
          "name": "risk_preset",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "universe_filter": {
          "name": "universe_filter",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "is_promoted": {
          "name": "is_promoted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "trader_profiles_status_idx": {
          "name": "trader_profiles_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "trader_profiles_promoted_idx": {
          "name": "trader_profiles_promoted_idx",
          "columns": [
            {
              "expression": "is_promoted",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "trader_profiles_name_unique": {
          "name": "trader_profiles_name_unique",
          "nullsNotDistinct": false,
          "columns": ["name"]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.trades": {
      "name": "trades",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "strategy_id": {
          "name": "strategy_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "order_id": {
          "name": "order_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "symbol": {
          "name": "symbol",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "side": {
          "name": "side",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "quantity": {
          "name": "quantity",
          "type": "numeric",
          "primaryKey": false,
          "notNull": true
        },
        "price": {
          "name": "price",
          "type": "numeric",
          "primaryKey": false,
          "notNull": true
        },
        "executed_at": {
          "name": "executed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "pnl": {
          "name": "pnl",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'completed'"
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "trace_id": {
          "name": "trace_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "trades_user_id_idx": {
          "name": "trades_user_id_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "trades_user_id_users_id_fk": {
          "name": "trades_user_id_users_id_fk",
          "tableFrom": "trades",
          "tableTo": "users",
          "columnsFrom": ["user_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "trades_strategy_id_strategies_id_fk": {
          "name": "trades_strategy_id_strategies_id_fk",
          "tableFrom": "trades",
          "tableTo": "strategies",
          "columnsFrom": ["strategy_id"],
          "columnsTo": ["id"],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "trades_order_id_orders_id_fk": {
          "name": "trades_order_id_orders_id_fk",
          "tableFrom": "trades",
          "tableTo": "orders",
          "columnsFrom": ["order_id"],
          "columnsTo": ["id"],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.universe_assets": {
      "name": "universe_assets",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "symbol": {
          "name": "symbol",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "exchange": {
          "name": "exchange",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "asset_class": {
          "name": "asset_class",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "tradable": {
          "name": "tradable",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "marginable": {
          "name": "marginable",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "shortable": {
          "name": "shortable",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "fractionable": {
          "name": "fractionable",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "easy_to_borrow": {
          "name": "easy_to_borrow",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "is_otc": {
          "name": "is_otc",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "is_spac": {
          "name": "is_spac",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "is_penny_stock": {
          "name": "is_penny_stock",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "excluded": {
          "name": "excluded",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "exclude_reason": {
          "name": "exclude_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "last_refreshed_at": {
          "name": "last_refreshed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "raw_json": {
          "name": "raw_json",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "universe_assets_symbol_idx": {
          "name": "universe_assets_symbol_idx",
          "columns": [
            {
              "expression": "symbol",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "universe_assets_tradable_idx": {
          "name": "universe_assets_tradable_idx",
          "columns": [
            {
              "expression": "tradable",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "universe_assets_exchange_idx": {
          "name": "universe_assets_exchange_idx",
          "columns": [
            {
              "expression": "exchange",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "universe_assets_symbol_unique": {
          "name": "universe_assets_symbol_unique",
          "nullsNotDistinct": false,
          "columns": ["symbol"]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.universe_candidates": {
      "name": "universe_candidates",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "symbol": {
          "name": "symbol",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "tier": {
          "name": "tier",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "liquidity_score": {
          "name": "liquidity_score",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "growth_score": {
          "name": "growth_score",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "quality_score": {
          "name": "quality_score",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "final_score": {
          "name": "final_score",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "theme_tags": {
          "name": "theme_tags",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "rationale": {
          "name": "rationale",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'NEW'"
        },
        "approved_by": {
          "name": "approved_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "approved_at": {
          "name": "approved_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "trace_id": {
          "name": "trace_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "universe_candidates_symbol_idx": {
          "name": "universe_candidates_symbol_idx",
          "columns": [
            {
              "expression": "symbol",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "universe_candidates_status_idx": {
          "name": "universe_candidates_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "universe_candidates_tier_idx": {
          "name": "universe_candidates_tier_idx",
          "columns": [
            {
              "expression": "tier",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "universe_candidates_final_score_idx": {
          "name": "universe_candidates_final_score_idx",
          "columns": [
            {
              "expression": "final_score",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "universe_candidates_approved_by_users_id_fk": {
          "name": "universe_candidates_approved_by_users_id_fk",
          "tableFrom": "universe_candidates",
          "tableTo": "users",
          "columnsFrom": ["approved_by"],
          "columnsTo": ["id"],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "universe_candidates_symbol_unique": {
          "name": "universe_candidates_symbol_unique",
          "nullsNotDistinct": false,
          "columns": ["symbol"]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.universe_fundamentals": {
      "name": "universe_fundamentals",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "symbol": {
          "name": "symbol",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "market_cap": {
          "name": "market_cap",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "revenue_ttm": {
          "name": "revenue_ttm",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "revenue_cagr_3y": {
          "name": "revenue_cagr_3y",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "gross_margin": {
          "name": "gross_margin",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "operating_margin": {
          "name": "operating_margin",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "net_margin": {
          "name": "net_margin",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "free_cash_flow_margin": {
          "name": "free_cash_flow_margin",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "debt_to_equity": {
          "name": "debt_to_equity",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "shares_dilution_1y": {
          "name": "shares_dilution_1y",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "pe_ratio": {
          "name": "pe_ratio",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "price_to_book": {
          "name": "price_to_book",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "beta": {
          "name": "beta",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "week_52_high": {
          "name": "week_52_high",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "week_52_low": {
          "name": "week_52_low",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "dividend_yield": {
          "name": "dividend_yield",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "sector": {
          "name": "sector",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "industry": {
          "name": "industry",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "source": {
          "name": "source",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "last_updated_at": {
          "name": "last_updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "raw_json": {
          "name": "raw_json",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "universe_fundamentals_symbol_idx": {
          "name": "universe_fundamentals_symbol_idx",
          "columns": [
            {
              "expression": "symbol",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "universe_fundamentals_sector_idx": {
          "name": "universe_fundamentals_sector_idx",
          "columns": [
            {
              "expression": "sector",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "universe_fundamentals_symbol_unique": {
          "name": "universe_fundamentals_symbol_unique",
          "nullsNotDistinct": false,
          "columns": ["symbol"]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.universe_liquidity_metrics": {
      "name": "universe_liquidity_metrics",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "symbol": {
          "name": "symbol",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "avg_daily_volume_shares": {
          "name": "avg_daily_volume_shares",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "avg_daily_traded_value_usd": {
          "name": "avg_daily_traded_value_usd",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "avg_bid_ask_spread_pct": {
          "name": "avg_bid_ask_spread_pct",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "latest_price": {
          "name": "latest_price",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "price_data_days": {
          "name": "price_data_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 30
        },
        "liquidity_tier": {
          "name": "liquidity_tier",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "source": {
          "name": "source",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "last_updated_at": {
          "name": "last_updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "raw_json": {
          "name": "raw_json",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "universe_liquidity_symbol_idx": {
          "name": "universe_liquidity_symbol_idx",
          "columns": [
            {
              "expression": "symbol",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "universe_liquidity_tier_idx": {
          "name": "universe_liquidity_tier_idx",
          "columns": [
            {
              "expression": "liquidity_tier",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "universe_liquidity_metrics_symbol_unique": {
          "name": "universe_liquidity_metrics_symbol_unique",
          "nullsNotDistinct": false,
          "columns": ["symbol"]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.universe_technicals": {
      "name": "universe_technicals",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "symbol": {
          "name": "symbol",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "date": {
          "name": "date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "open": {
          "name": "open",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "high": {
          "name": "high",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "low": {
          "name": "low",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "close": {
          "name": "close",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "volume": {
          "name": "volume",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "vwap": {
          "name": "vwap",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "sma_20": {
          "name": "sma_20",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "sma_50": {
          "name": "sma_50",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "sma_200": {
          "name": "sma_200",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "ema_12": {
          "name": "ema_12",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "ema_26": {
          "name": "ema_26",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "rsi_14": {
          "name": "rsi_14",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "macd": {
          "name": "macd",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "macd_signal": {
          "name": "macd_signal",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "macd_histogram": {
          "name": "macd_histogram",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "atr_14": {
          "name": "atr_14",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "bollinger_upper": {
          "name": "bollinger_upper",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "bollinger_lower": {
          "name": "bollinger_lower",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "adx_14": {
          "name": "adx_14",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "plus_di": {
          "name": "plus_di",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "minus_di": {
          "name": "minus_di",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "pivot_point": {
          "name": "pivot_point",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "resistance_1": {
          "name": "resistance_1",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "support_1": {
          "name": "support_1",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "source": {
          "name": "source",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "last_updated_at": {
          "name": "last_updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "universe_technicals_symbol_idx": {
          "name": "universe_technicals_symbol_idx",
          "columns": [
            {
              "expression": "symbol",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "universe_technicals_date_idx": {
          "name": "universe_technicals_date_idx",
          "columns": [
            {
              "expression": "date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "universe_technicals_symbol_date_unique": {
          "name": "universe_technicals_symbol_date_unique",
          "nullsNotDistinct": false,
          "columns": ["symbol", "date"]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.users": {
      "name": "users",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "username": {
          "name": "username",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "password": {
          "name": "password",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "is_admin": {
          "name": "is_admin",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "users_username_unique": {
          "name": "users_username_unique",
          "nullsNotDistinct": false,
          "columns": ["username"]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.valyu_retrieval_counters": {
      "name": "valyu_retrieval_counters",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "source_tier": {
          "name": "source_tier",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "month_key": {
          "name": "month_key",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "retrieval_count": {
          "name": "retrieval_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "last_updated": {
          "name": "last_updated",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.work_item_runs": {
      "name": "work_item_runs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "work_item_id": {
          "name": "work_item_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "attempt_number": {
          "name": "attempt_number",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'RUNNING'"
        },
        "error": {
          "name": "error",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "duration_ms": {
          "name": "duration_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "work_item_runs_work_item_id_work_items_id_fk": {
          "name": "work_item_runs_work_item_id_work_items_id_fk",
          "tableFrom": "work_item_runs",
          "tableTo": "work_items",
          "columnsFrom": ["work_item_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.work_items": {
      "name": "work_items",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'PENDING'"
        },
        "attempts": {
          "name": "attempts",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "max_attempts": {
          "name": "max_attempts",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 3
        },
        "next_run_at": {
          "name": "next_run_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "last_error": {
          "name": "last_error",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "payload": {
          "name": "payload",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "idempotency_key": {
          "name": "idempotency_key",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "decision_id": {
          "name": "decision_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "broker_order_id": {
          "name": "broker_order_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "symbol": {
          "name": "symbol",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "result": {
          "name": "result",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "work_items_decision_id_ai_decisions_id_fk": {
          "name": "work_items_decision_id_ai_decisions_id_fk",
          "tableFrom": "work_items",
          "tableTo": "ai_decisions",
          "columnsFrom": ["decision_id"],
          "columnsTo": ["id"],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "work_items_idempotency_key_unique": {
          "name": "work_items_idempotency_key_unique",
          "nullsNotDistinct": false,
          "columns": ["idempotency_key"]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.conversations": {
      "name": "conversations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.messages": {
      "name": "messages",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "conversation_id": {
          "name": "conversation_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "role": {
          "name": "role",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "messages_conversation_id_conversations_id_fk": {
          "name": "messages_conversation_id_conversations_id_fk",
          "tableFrom": "messages",
          "tableTo": "conversations",
          "columnsFrom": ["conversation_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    }
  },
  "enums": {},
  "schemas": {},
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}
