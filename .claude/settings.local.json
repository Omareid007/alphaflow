{
  "permissions": {
    "allow": [
      "Bash(find:*)",
      "Bash(ls:*)",
      "Bash(du:*)",
      "Bash(cat:*)",
      "Bash(git add:*)",
      "Bash(git commit:*)",
      "Bash(chmod:*)",
      "Bash(npm test:*)",
      "Bash(npm run:*)",
      "Bash(npx vitest:*)",
      "Bash(curl:*)",
      "Bash(python3:*)",
      "Bash(tail:*)",
      "Bash(pm2 logs:*)",
      "Bash(npx tsc:*)",
      "Bash(node -e:*)",
      "Bash(bun check:*)",
      "Bash(pm2 list:*)",
      "Bash(pkill:*)",
      "Bash(git reset:*)",
      "Bash(xargs ls:*)",
      "Bash(timeout 15 npm run server:prod:*)",
      "Bash(pm2 stop:*)",
      "Bash(timeout 30 npm run server:prod:*)",
      "Bash(npx drizzle-kit push:pg:*)",
      "WebSearch",
      "Bash(node scripts/analyze-order-failures.js:*)",
      "WebFetch(domain:docs.alpaca.markets)",
      "Bash(node scripts/detailed-order-analysis.js:*)",
      "Bash(bun test:*)",
      "Bash(node scripts/comprehensive-failure-report.js:*)",
      "Bash(wc:*)",
      "Bash(psql:*)",
      "Bash(/dev/null pkill -9 -f npm.*server)",
      "Bash(1 grep getSessionInfo /home/runner/workspace/server_dist/index.js)",
      "Bash(pgrep:*)",
      "Bash(echo 'No node processes' ls -la /tmp/*.log)",
      "Bash(npx drizzle-kit:*)",
      "Bash(npx tsx:*)",
      "Bash(netstat:*)",
      "Bash(ss:*)",
      "Bash(if [ -f /tmp/order_status.json ])",
      "Bash(then cat /tmp/order_status.json)",
      "Bash(else)",
      "Bash(fi)",
      "Bash(python /tmp/analyze_orders.py:*)",
      "Bash(node --loader tsx -e:*)",
      "Bash(node --import tsx:*)",
      "Bash(env)",
      "Bash(node:*)",
      "Bash(tree:*)",
      "Bash(kill:*)",
      "Bash(grep:*)",
      "Bash(timeout 45 npx tsx:*)",
      "Bash(lsof:*)",
      "Bash(xargs:*)",
      "Bash(/dev/null curl -s -o /dev/null -w 'Anthropic endpoint: %{http_code}\\\\n' http://localhost:1106/modelfarm/anthropic/v1/messages 2)",
      "Bash(/dev/null curl -s -o /dev/null -w 'OpenRouter endpoint: %{http_code}\\\\n' http://localhost:1106/modelfarm/openrouter/v1/models)",
      "Bash(echo \"Testing modelfarm with POST request...\" curl -s -X POST \"http://localhost:1106/modelfarm/openai/v1/chat/completions\" -H \"Content-Type: application/json\" -H \"Authorization: Bearer $AI_INTEGRATIONS_OPENAI_API_KEY\" -d '{\"\"\"\"model\"\"\"\":\"\"\"\"gpt-4o-mini\"\"\"\",\"\"\"\"messages\"\"\"\":[{\"\"\"\"role\"\"\"\":\"\"\"\"user\"\"\"\",\"\"\"\"content\"\"\"\":\"\"\"\"Say OK\"\"\"\"}],\"\"\"\"max_tokens\"\"\"\":5}')",
      "Bash(source .env)",
      "Bash(npm install:*)",
      "Bash(timeout 45 npm run server:prod:*)",
      "Bash(jq:*)",
      "Bash(timeout 5 curl:*)",
      "Bash(timeout 10 curl:*)",
      "Bash(top:*)",
      "Bash(echo \"Testing Claude via Replit proxy...\" curl -s -X POST \"$AI_INTEGRATIONS_ANTHROPIC_BASE_URL\" -H \"Authorization: Bearer $AI_INTEGRATIONS_ANTHROPIC_API_KEY\" -H \"Content-Type: application/json\" -H \"anthropic-version: 2023-06-01\" -d '{\"\"\"\"model\"\"\"\":\"\"\"\"claude-sonnet-4-20250514\"\"\"\",\"\"\"\"max_tokens\"\"\"\":10,\"\"\"\"messages\"\"\"\":[{\"\"\"\"role\"\"\"\":\"\"\"\"user\"\"\"\",\"\"\"\"content\"\"\"\":\"\"\"\"OK\"\"\"\"}]}')",
      "Bash(echo \"Testing OpenRouter...\" curl -s -X POST \"https://openrouter.ai/api/v1/chat/completions\" -H \"Authorization: Bearer $AI_INTEGRATIONS_OPENROUTER_API_KEY\" -H \"Content-Type: application/json\" -d '{\"\"\"\"model\"\"\"\":\"\"\"\"anthropic/claude-3.5-sonnet\"\"\"\",\"\"\"\"messages\"\"\"\":[{\"\"\"\"role\"\"\"\":\"\"\"\"user\"\"\"\",\"\"\"\"content\"\"\"\":\"\"\"\"OK\"\"\"\"}],\"\"\"\"max_tokens\"\"\"\":10}')",
      "Bash(git checkout:*)",
      "Bash(timeout 15 curl:*)",
      "Bash(timeout 20 curl:*)",
      "Bash(timeout 30 curl:*)",
      "Bash(timeout 25 curl:*)",
      "Bash(for symbol in NVDA AAPL MSFT SPY)",
      "Bash(do echo '=== $symbol ===' timeout 20 curl -s -X POST http://localhost:5000/api/alpaca-trading/analyze -H 'Content-Type: application/json' -d {symbol:$symbol})",
      "Bash(timeout 180 npx tsx:*)",
      "Bash(timeout 300 npx tsx:*)",
      "WebFetch(domain:www.luxalgo.com)",
      "Bash(timeout 600 npx tsx:*)",
      "Bash(timeout 900 npx tsx:*)",
      "Bash(echo:*)",
      "Bash(npx --version:*)",
      "Bash(unzip:*)",
      "Bash(bun:*)",
      "Bash(head:*)",
      "Bash(\"/home/runner/workspace/Bolt project/extracted/project/server/connectors\" )",
      "Bash(\"/home/runner/workspace/Bolt project/extracted/project/server/ai\" )",
      "Bash(\"/home/runner/workspace/Bolt project/extracted/project/server/trading\" )",
      "Bash(\"/home/runner/workspace/Bolt project/extracted/project/server/autonomous\" )",
      "Bash(\"/home/runner/workspace/Bolt project/extracted/project/server/services\" )",
      "Bash(\"/home/runner/workspace/Bolt project/extracted/project/server/routes\" )",
      "Bash(\"/home/runner/workspace/Bolt project/extracted/project/server/lib\" )",
      "Bash(\"/home/runner/workspace/Bolt project/extracted/project/server/config\" )",
      "Bash(\"/home/runner/workspace/Bolt project/extracted/project/server/universe\" )",
      "Bash(\"/home/runner/workspace/Bolt project/extracted/project/server/validation\" )",
      "Bash(\"/home/runner/workspace/Bolt project/extracted/project/server/adapters\" )",
      "Bash(\"/home/runner/workspace/Bolt project/extracted/project/server/scoring\" )",
      "Bash(\"/home/runner/workspace/Bolt project/extracted/project/lib/api/hooks\" )",
      "Bash(\"/home/runner/workspace/Bolt project/extracted/project/lib/api/websocket\")",
      "Bash(timeout 15 npx tsx:*)",
      "Bash(timeout 10 npm run dev:client)",
      "Bash(npx next lint:*)",
      "Bash(npx expo --version)",
      "Bash(GOOGLE_GEMINI_API_KEY=\"AIzaSyDL---2oL3ROM5d9hZWjg1wvqDGMBnh1G0\" npx tsx scripts/test-gemini.ts)",
      "Bash(GOOGLE_GEMINI_API_KEY=\"AIzaSyDL---2oL3ROM5d9hZWjg1wvqDGMBnh1G0\" npx tsx -e \"import {geminiClient} from ''./server/ai/geminiClient.js''; console.log\\(''Gemini available:'', geminiClient.isAvailable\\(\\)\\)\")",
      "Bash(tsx scripts/test-sanitization.ts:*)",
      "Bash(tsx:*)",
      "Bash(test:*)",
      "Bash(npm audit:*)",
      "Bash(timeout 120 tsx:*)",
      "Bash(tee:*)",
      "Bash(if [ -n \"$DATABASE_URL\" ])",
      "Bash(then psql \"$DATABASE_URL\" -f /home/runner/workspace/migrations/add_performance_indexes.sql)",
      "Bash(else echo \"DATABASE_URL not set, skipping migration\")",
      "Bash(/tmp/verify-fixes.sh)",
      "Bash(timeout 30 npm run dev:server:*)",
      "Bash(git -C /home/runner/workspace status:*)",
      "Bash(python /tmp/remove_duplicates.py:*)",
      "Bash(awk:*)",
      "Bash(perl -i.bak -pe:*)",
      "Bash(done)",
      "Bash(npm ls:*)",
      "Bash(npm outdated:*)",
      "Bash(npm update:*)",
      "Bash(npm view:*)",
      "Bash(for page in \"/\" \"/home\" \"/login\" \"/strategies\" \"/create\" \"/portfolio\" \"/settings\")",
      "Bash(do echo -n \"GET $page: \")",
      "Bash(/dev/null echo echo 'Recent trades from Alpaca:' curl -s http://localhost:5000/api/alpaca/orders?limit=5 -b /tmp/cookies.txt)",
      "Bash(npx eslint:*)",
      "Bash(npm uninstall:*)",
      "Bash(git -C /home/runner/workspace log --oneline -20)",
      "Bash(while read f)",
      "Bash(git -C /home/runner/workspace log --oneline --all)",
      "Bash(npx esbuild:*)",
      "Bash(git rev-list:*)",
      "Bash(./scripts/quick-analysis.sh:*)",
      "Bash(do grep -q \"/\\\\*\\\\*\" \"$f\")",
      "Bash(unset:*)",
      "Bash(/tmp/restart-server.sh)",
      "Bash(killall:*)",
      "Bash(for:*)",
      "Bash(do echo \"=== Check $i \\(10s intervals\\) ===\")",
      "WebFetch(domain:www.npmjs.com)",
      "Bash(git -C /home/runner/workspace diff --stat HEAD)",
      "Bash(git -C /home/runner/workspace log --oneline -3)",
      "Bash(git -C /home/runner/workspace add components/wizard/strategy-wizard.tsx lib/api/hooks/useStrategies.ts lib/store/index.ts lib/types.ts server/routes/alpaca.ts server/routes/strategies.ts server/storage.ts .mcp.json)",
      "Bash(git -C /home/runner/workspace diff --cached --stat)",
      "Bash(git -C /home/runner/workspace commit -m \"$\\(cat <<''EOF''\nfix: Resolve backtest validation errors and add strategy management\n\n- Add required ''type'' field to strategy creation in wizard\n- Update Strategy interface in useStrategies.ts, types.ts, and store\n- Add deleteStrategy method to storage and DELETE route\n- Add POST /api/alpaca/clear-cache endpoint for cache management\n- Add POST /api/alpaca/reset-circuit-breaker endpoint for recovery\n- Configure PostgreSQL MCP server in .mcp.json\n\nFixes the Zod validation error: \"type\" field required but undefined\n\n Generated with [Claude Code]\\(https://claude.com/claude-code\\)\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(git -C /home/runner/workspace show --stat HEAD)",
      "Bash(git -C /home/runner/workspace add server/lib/work-queue.ts)",
      "Bash(git -C /home/runner/workspace commit -m \"$\\(cat <<''EOF''\nfix: Resolve client_order_id retry bug causing 422 errors\n\n- Changed client_order_id generation to be consistent for first attempt\n- Retry attempts now append -r1, -r2 suffix for unique IDs per attempt\n- Enhanced deduplication check to query ALL orders \\(not just open\\)\n- Now checks for pattern match on base ID prefix for better detection\n\nThe bug was causing 422 \"client_order_id must be unique\" errors when:\n1. First request succeeded server-side but timed out locally\n2. Retry generated a new random ID instead of reusing the base ID\n3. Deduplication only checked 100 open orders, missing filled/cancelled\n\n Generated with [Claude Code]\\(https://claude.com/claude-code\\)\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(git -C /home/runner/workspace add:*)",
      "Bash(git -C /home/runner/workspace commit -m \"$\\(cat <<''EOF''\nfix: Resolve backtest results undefined metrics error\n\n- Add API response transformation in backtest-results.tsx\n- Transform resultsSummary \\(API format\\) to metrics \\(component format\\)\n- Handle string/undefined interpretation gracefully\n- Provide sensible defaults for missing chart data\n- Update type imports to use explicit BacktestMetrics types\n\nThe error occurred because the API returns resultsSummary with fields\nlike sharpeRatio, while the component expected metrics with sharpe.\n\n Generated with [Claude Code]\\(https://claude.com/claude-code\\)\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(git -C /home/runner/workspace commit -m \"$\\(cat <<''EOF''\nfix: Add auto-reset to circuit breaker \\(half-open state\\)\n\n- Add circuitBreakerOpenedAt timestamp to track when breaker opened\n- After 60 seconds cooldown, enter half-open state and allow test request\n- If test request succeeds, fully reset circuit breaker\n- Properly reset circuitBreakerOpenedAt in resetCircuitBreaker\\(\\)\n\nPreviously the circuit breaker would stay open forever until manually\nreset via API. Now it auto-recovers after 60 seconds.\n\n Generated with [Claude Code]\\(https://claude.com/claude-code\\)\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(git -C /home/runner/workspace log --oneline -5)",
      "Bash(BACKTEST_ID=\"d3a60a09-5218-41a6-a9d5-6a2f46fef1a1\":*)",
      "Bash(__NEW_LINE__ echo \"=== Raw backtest response ===\")",
      "Bash(__NEW_LINE__ echo \"\")",
      "Bash(npx prettier:*)",
      "Bash(crontab:*)",
      "mcp__postgres__query",
      "Bash(git push:*)",
      "Bash(sort:*)",
      "Bash(git -C /home/runner/workspace ls-files .next dist)",
      "Bash(git -C /home/runner/workspace check-ignore:*)",
      "Bash(while read dir)",
      "Bash(git -C /home/runner/workspace ls-files:*)",
      "Bash(while read d)",
      "Bash(git rm:*)",
      "Bash(git branch:*)",
      "WebFetch(domain:github.com)"
    ]
  },
  "enableAllProjectMcpServers": true,
  "enabledMcpjsonServers": [
    "postgres"
  ]
}
